{"version":3,"sources":["webpack:///./src/components/watch/Open.vue?6d57","webpack:///./node_modules/js-base64/base64.js","webpack:///./src/views/watch/Open.vue?5d38","webpack:///./src/components/watch/Open.vue?6ea4","webpack:///src/components/watch/Open.vue","webpack:///./src/components/watch/Open.vue?6f20","webpack:///./src/components/watch/Open.vue","webpack:///src/views/watch/Open.vue","webpack:///./src/views/watch/Open.vue?fa49","webpack:///./src/views/watch/Open.vue","webpack:///./src/views/Watch.vue?7796","webpack:///./src/components/Watch.vue?a409","webpack:///src/components/Watch.vue","webpack:///./src/components/Watch.vue?3ff5","webpack:///./src/components/Watch.vue","webpack:///src/views/Watch.vue","webpack:///./src/views/Watch.vue?85ae","webpack:///./src/views/Watch.vue","webpack:///./src/utils/floatOperate.js","webpack:///./src/views/watch/History.vue?e3fe","webpack:///./src/components/watch/History.vue?768c","webpack:///src/components/watch/History.vue","webpack:///./src/components/watch/History.vue?c3fa","webpack:///./src/components/watch/History.vue","webpack:///src/views/watch/History.vue","webpack:///./src/views/watch/History.vue?66bb","webpack:///./src/views/watch/History.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Open_vue_vue_type_style_index_0_id_6a42a706_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Open_vue_vue_type_style_index_0_id_6a42a706_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","global","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","factory","module","exports","self","window","this","_Base64","Base64","version","buffer","eval","err","undefined","b64chars","b64tab","bin","t","i","l","length","charAt","fromCharCode","String","cb_utob","c","cc","charCodeAt","re_utob","utob","u","replace","cb_encode","ccc","padlen","ord","chars","join","btoa","b","_encode","from","Uint8Array","constructor","toString","encode","urisafe","m0","encodeURI","re_btou","RegExp","cb_btou","cccc","cp","offset","btou","cb_decode","len","_atob","atob","a","_decode","decode","noConflict","VERSION","fromBase64","toBase64","__buffer__","Object","defineProperty","noEnum","v","value","enumerable","writable","configurable","extendString","prototype","apply","render","_vm","_h","$createElement","_c","_self","staticRenderFns","Openvue_type_template_id_6a42a706_scoped_true_render","_v","on","change","handleChange","model","callback","$$v","activeNames","expression","_l","item","key","index","attrs","title","name","_s","device_type","staticClass","data","treeData","props","treeDefaultProps","default-expand-all","write_permission","filterable","clearable","placeholder","selectCommand","commands","label","_e","span","nativeOn","keyup","$event","type","indexOf","_k","keyCode","handleCommand","inputParams","params","click","response","imageBase64","ref","refInFor","staticStyle","width","height","min-width","min-height","options","chart_option","autoresize","src","Openvue_type_template_id_6a42a706_scoped_true_staticRenderFns","symbolSize","Openvue_type_script_lang_js_","[object Object]","error_count","serial_list","intervalId","children","chart_option_list","chart_option_template","text","tooltip","formatter","toFixed","grid","xAxis","min","max","axisLine","onZero","yAxis","dataZoom","xAxisIndex","filterMode","yAxisIndex","series","smooth","getOpenDevice","setInterval","clearInterval","watch","to","val","oldVal","deviceSetHandler","responseHandler","methods","$store","state","user","serial","console","log","command","split","dispatch","then","element_ui_common","message","duration","catch","vol_data","time_end","vol_max","vol_min","str","str_split","parseFloat","exp","res_num","Math","pow","device_key","latest_response","id","latest_response_id","latest_response_command","sample_time","scienceToFloat","vol_data_str","slice","ad_max","Infinity","ad_min","push","coefficient","floatOperate","map","row","frameL","frameR","reconstruction","device_set","command_count","command_key","params_count","commands_params","params_key","Promise","resolve","watch_Openvue_type_script_lang_js_","component","componentNormalizer","Open","views_watch_Openvue_type_script_lang_js_","components","src_views_watch_Openvue_type_script_lang_js_","Open_component","__webpack_exports__","Watchvue_type_template_id_530dfaeb_render","Watchvue_type_template_id_530dfaeb_staticRenderFns","Watchvue_type_script_lang_js_","components_Watchvue_type_script_lang_js_","Watch","views_Watchvue_type_script_lang_js_","src_views_Watchvue_type_script_lang_js_","Watch_component","accAdd","num1","num2","dec1","dec2","times","Number","countDecimals","e","result","accMul","getCorrectResult","accSub","accDiv","t1","t2","convertToInt","s1","s2","d","num","toUpperCase","isDecimal","parseInt","x","isNaN","newNum","temp_num","round","temp_result","abs","Historyvue_type_template_id_ee4f43ec_render","selectDeviceChange","selectDevice","read_permission","selectHistory","_f","QueryHistoryDetail","color","history_response","chart","Historyvue_type_template_id_ee4f43ec_staticRenderFns","Historyvue_type_script_lang_js_","computed","filters","time","Date","timestamp","year","getFullYear","month","getMonth","date","getDate","hour","getHours","getMinutes","second","getSeconds","getDeviceHistory","device_history_id","watch_Historyvue_type_script_lang_js_","History","views_watch_Historyvue_type_script_lang_js_","src_views_watch_Historyvue_type_script_lang_js_","History_component"],"mappings":"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","file":"static/js/WATCH.7fcc85d7.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Open.vue?vue&type=style&index=0&id=6a42a706&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Open.vue?vue&type=style&index=0&id=6a42a706&scoped=true&lang=css&\"","/*\n *  base64.js\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n */\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? module.exports = factory(global)\n        : typeof define === 'function' && define.amd\n        ? define(factory) : factory(global)\n}((\n    typeof self !== 'undefined' ? self\n        : typeof window !== 'undefined' ? window\n        : typeof global !== 'undefined' ? global\n: this\n), function(global) {\n    'use strict';\n    // existing version for noConflict()\n    global = global || {};\n    var _Base64 = global.Base64;\n    var version = \"2.5.1\";\n    // if node.js and NOT React Native, we use Buffer\n    var buffer;\n    if (typeof module !== 'undefined' && module.exports) {\n        try {\n            buffer = eval(\"require('buffer').Buffer\");\n        } catch (err) {\n            buffer = undefined;\n        }\n    }\n    // constants\n    var b64chars\n        = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    var b64tab = function(bin) {\n        var t = {};\n        for (var i = 0, l = bin.length; i < l; i++) t[bin.charAt(i)] = i;\n        return t;\n    }(b64chars);\n    var fromCharCode = String.fromCharCode;\n    // encoder stuff\n    var cb_utob = function(c) {\n        if (c.length < 2) {\n            var cc = c.charCodeAt(0);\n            return cc < 0x80 ? c\n                : cc < 0x800 ? (fromCharCode(0xc0 | (cc >>> 6))\n                                + fromCharCode(0x80 | (cc & 0x3f)))\n                : (fromCharCode(0xe0 | ((cc >>> 12) & 0x0f))\n                   + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                   + fromCharCode(0x80 | ( cc         & 0x3f)));\n        } else {\n            var cc = 0x10000\n                + (c.charCodeAt(0) - 0xD800) * 0x400\n                + (c.charCodeAt(1) - 0xDC00);\n            return (fromCharCode(0xf0 | ((cc >>> 18) & 0x07))\n                    + fromCharCode(0x80 | ((cc >>> 12) & 0x3f))\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\n        }\n    };\n    var re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n    var utob = function(u) {\n        return u.replace(re_utob, cb_utob);\n    };\n    var cb_encode = function(ccc) {\n        var padlen = [0, 2, 1][ccc.length % 3],\n        ord = ccc.charCodeAt(0) << 16\n            | ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8)\n            | ((ccc.length > 2 ? ccc.charCodeAt(2) : 0)),\n        chars = [\n            b64chars.charAt( ord >>> 18),\n            b64chars.charAt((ord >>> 12) & 63),\n            padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n            padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\n        ];\n        return chars.join('');\n    };\n    var btoa = global.btoa ? function(b) {\n        return global.btoa(b);\n    } : function(b) {\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n    };\n    var _encode = buffer ?\n        buffer.from && Uint8Array && buffer.from !== Uint8Array.from\n        ? function (u) {\n            return (u.constructor === buffer.constructor ? u : buffer.from(u))\n                .toString('base64')\n        }\n        :  function (u) {\n            return (u.constructor === buffer.constructor ? u : new  buffer(u))\n                .toString('base64')\n        }\n        : function (u) { return btoa(utob(u)) }\n    ;\n    var encode = function(u, urisafe) {\n        return !urisafe\n            ? _encode(String(u))\n            : _encode(String(u)).replace(/[+\\/]/g, function(m0) {\n                return m0 == '+' ? '-' : '_';\n            }).replace(/=/g, '');\n    };\n    var encodeURI = function(u) { return encode(u, true) };\n    // decoder stuff\n    var re_btou = new RegExp([\n        '[\\xC0-\\xDF][\\x80-\\xBF]',\n        '[\\xE0-\\xEF][\\x80-\\xBF]{2}',\n        '[\\xF0-\\xF7][\\x80-\\xBF]{3}'\n    ].join('|'), 'g');\n    var cb_btou = function(cccc) {\n        switch(cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                |    ((0x3f & cccc.charCodeAt(1)) << 12)\n                |    ((0x3f & cccc.charCodeAt(2)) <<  6)\n                |     (0x3f & cccc.charCodeAt(3)),\n            offset = cp - 0x10000;\n            return (fromCharCode((offset  >>> 10) + 0xD800)\n                    + fromCharCode((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return fromCharCode(\n                ((0x0f & cccc.charCodeAt(0)) << 12)\n                    | ((0x3f & cccc.charCodeAt(1)) << 6)\n                    |  (0x3f & cccc.charCodeAt(2))\n            );\n        default:\n            return  fromCharCode(\n                ((0x1f & cccc.charCodeAt(0)) << 6)\n                    |  (0x3f & cccc.charCodeAt(1))\n            );\n        }\n    };\n    var btou = function(b) {\n        return b.replace(re_btou, cb_btou);\n    };\n    var cb_decode = function(cccc) {\n        var len = cccc.length,\n        padlen = len % 4,\n        n = (len > 0 ? b64tab[cccc.charAt(0)] << 18 : 0)\n            | (len > 1 ? b64tab[cccc.charAt(1)] << 12 : 0)\n            | (len > 2 ? b64tab[cccc.charAt(2)] <<  6 : 0)\n            | (len > 3 ? b64tab[cccc.charAt(3)]       : 0),\n        chars = [\n            fromCharCode( n >>> 16),\n            fromCharCode((n >>>  8) & 0xff),\n            fromCharCode( n         & 0xff)\n        ];\n        chars.length -= [0, 0, 2, 1][padlen];\n        return chars.join('');\n    };\n    var _atob = global.atob ? function(a) {\n        return global.atob(a);\n    } : function(a){\n        return a.replace(/\\S{1,4}/g, cb_decode);\n    };\n    var atob = function(a) {\n        return _atob(String(a).replace(/[^A-Za-z0-9\\+\\/]/g, ''));\n    };\n    var _decode = buffer ?\n        buffer.from && Uint8Array && buffer.from !== Uint8Array.from\n        ? function(a) {\n            return (a.constructor === buffer.constructor\n                    ? a : buffer.from(a, 'base64')).toString();\n        }\n        : function(a) {\n            return (a.constructor === buffer.constructor\n                    ? a : new buffer(a, 'base64')).toString();\n        }\n        : function(a) { return btou(_atob(a)) };\n    var decode = function(a){\n        return _decode(\n            String(a).replace(/[-_]/g, function(m0) { return m0 == '-' ? '+' : '/' })\n                .replace(/[^A-Za-z0-9\\+\\/]/g, '')\n        );\n    };\n    var noConflict = function() {\n        var Base64 = global.Base64;\n        global.Base64 = _Base64;\n        return Base64;\n    };\n    // export Base64\n    global.Base64 = {\n        VERSION: version,\n        atob: atob,\n        btoa: btoa,\n        fromBase64: decode,\n        toBase64: encode,\n        utob: utob,\n        encode: encode,\n        encodeURI: encodeURI,\n        btou: btou,\n        decode: decode,\n        noConflict: noConflict,\n        __buffer__: buffer\n    };\n    // if ES5 is available, make Base64.extendString() available\n    if (typeof Object.defineProperty === 'function') {\n        var noEnum = function(v){\n            return {value:v,enumerable:false,writable:true,configurable:true};\n        };\n        global.Base64.extendString = function () {\n            Object.defineProperty(\n                String.prototype, 'fromBase64', noEnum(function () {\n                    return decode(this)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64', noEnum(function (urisafe) {\n                    return encode(this, urisafe)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64URI', noEnum(function () {\n                    return encode(this, true)\n                }));\n        };\n    }\n    //\n    // export Base64 to the namespace\n    //\n    if (global['Meteor']) { // Meteor.js\n        Base64 = global.Base64;\n    }\n    // module.exports and AMD are mutually exclusive.\n    // module.exports has precedence.\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports.Base64 = global.Base64;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], function(){ return global.Base64 });\n    }\n    // that's it!\n    return {Base64: global.Base64}\n}));\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Open')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"目前开放的设备:\")]),_c('el-collapse',{on:{\"change\":_vm.handleChange},model:{value:(_vm.activeNames),callback:function ($$v) {_vm.activeNames=$$v},expression:\"activeNames\"}},_vm._l((_vm.data),function(item,key,index){return _c('el-collapse-item',{key:index,attrs:{\"title\":key,\"name\":index}},[_c('div',[_vm._v(\"设备类型：\"+_vm._s(item.device_type))]),_c('div',[_vm._v(\"\\n        设备指令集：\\n        \"),_c('el-tree',{staticClass:\"filter-tree\",attrs:{\"data\":_vm.treeData[key],\"props\":_vm.treeDefaultProps,\"default-expand-all\":\"\"}}),_c('br'),(_vm.data[key].write_permission===true)?_c('el-row',[_c('el-col',[_c('el-select',{attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.selectCommand),callback:function ($$v) {_vm.selectCommand=$$v},expression:\"selectCommand\"}},_vm._l((_vm.commands[key]),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1):_vm._e(),_c('br'),(_vm.data[key].write_permission===true)?_c('el-row',[_c('el-col',{attrs:{\"span\":16}},[(_vm.selectCommand==='')?_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleCommand(key)}},model:{value:(_vm.inputParams),callback:function ($$v) {_vm.inputParams=$$v},expression:\"inputParams\"}}):_c('el-input',{attrs:{\"placeholder\":_vm.commands[key][_vm.selectCommand].params},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleCommand(key)}},model:{value:(_vm.inputParams),callback:function ($$v) {_vm.inputParams=$$v},expression:\"inputParams\"}})],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleCommand(key)}}},[_vm._v(\"\\n              发送\\n              \"),_c('i',{staticClass:\"el-icon-upload el-icon--right\"})])],1)],1):_vm._e()],1),_c('br'),(_vm.response[key]||_vm.imageBase64.length>0)?_c('div',[_vm._v(\"\\n        设备回应：\\n        \"),(_vm.response[key])?_c('v-chart',{ref:\"line\",refInFor:true,staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"min-width\":\"300px\",\"min-height\":\"600px\"},attrs:{\"options\":_vm.chart_option(key),\"autoresize\":\"\"}}):_vm._e(),_vm._l((_vm.imageBase64),function(item,index){return _c('img',{key:index,attrs:{\"src\":'data:image/jpeg;base64,'+item}})})],2):_vm._e()])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h1>目前开放的设备:</h1>\n    <el-collapse v-model=\"activeNames\" @change=\"handleChange\">\n      <el-collapse-item v-for=\"(item,key,index) in data\" :title=\"key\" :name=\"index\" :key=\"index\">\n        <div>设备类型：{{item.device_type}}</div>\n        <div>\n          设备指令集：\n          <!-- <div v-for=\"(set,key,index) in item.device_set\" :key=\"index\">\n            指令{{index+1}}：{{key}}\n            <div v-for=\"(params,key,index) in set\" :key=\"index\">\n              所需参数{{index+1}}：{{key}}\n              <br>\n              取值类型及范围：{{params}}\n            </div>\n            \n          </div>-->\n          <!-- <el-input placeholder=\"输入关键字进行过滤\" v-model=\"filterText\"></el-input> -->\n\n          <el-tree\n            class=\"filter-tree\"\n            :data=\"treeData[key]\"\n            :props=\"treeDefaultProps\"\n            default-expand-all\n          ></el-tree>\n          <br>\n          <el-row v-if=\"data[key].write_permission===true\">\n            <el-col>\n              <el-select v-model=\"selectCommand\" filterable clearable placeholder=\"请选择\">\n                <el-option\n                  v-for=\"item in commands[key]\"\n                  :key=\"item.value\"\n                  :label=\"item.label\"\n                  :value=\"item.value\"\n                ></el-option>\n              </el-select>\n            </el-col>\n          </el-row>\n          <br>\n          <el-row v-if=\"data[key].write_permission===true\">\n            <el-col :span=\"16\">\n              <el-input\n                v-model=\"inputParams\"\n                v-if=\"selectCommand===''\"\n                placeholder=\"请输入内容\"\n                @keyup.enter.native=\"handleCommand(key)\"\n              ></el-input>\n              <el-input\n                v-model=\"inputParams\"\n                v-else\n                :placeholder=\"commands[key][selectCommand].params\"\n                @keyup.enter.native=\"handleCommand(key)\"\n              ></el-input>\n            </el-col>\n            <el-col :span=\"8\">\n              <el-button type=\"primary\" @click=\"handleCommand(key)\">\n                发送\n                <i class=\"el-icon-upload el-icon--right\"></i>\n              </el-button>\n            </el-col>\n          </el-row>\n        </div>\n        <br>\n        <div v-if=\"response[key]||imageBase64.length>0\">\n          设备回应：\n          <v-chart\n            v-if=\"response[key]\"\n            :options=\"chart_option(key)\"\n            autoresize\n            ref=\"line\"\n            style=\"width:100%;height: 100%;min-width: 300px;min-height: 600px;\"\n          />\n          <img\n            v-for=\"(item,index) in imageBase64\"\n            v-bind:src=\"'data:image/jpeg;base64,'+item\"\n            :key=\"index\"\n          >\n        </div>\n      </el-collapse-item>\n    </el-collapse>\n  </div>\n</template>\n\n<script>\nimport { Message } from \"element-ui\";\nimport { accAdd, accSub, accDiv, accMul } from \"@/utils/floatOperate\";\nlet Base64 = require(\"js-base64\").Base64;\nvar symbolSize = 1;\nexport default {\n  name: \"open\",\n  data() {\n    return {\n      error_count:0,\n      imageBase64: [],\n      activeNames: [],\n      data: {},\n      serial_list: [],\n      intervalId: 0,\n      inputParams: \"\",\n      commands: {},\n      selectCommand: \"\",\n      treeData: {},\n      response: {},\n      treeDefaultProps: {\n        children: \"children\",\n        label: \"label\"\n      },\n      chart_option_list: {},\n      chart_option_template: {\n        title: {\n          text: \"Try Dragging these Points\"\n        },\n        tooltip: {\n          formatter: function(params) {\n            return (\n              \"X: \" +\n              params.data[0].toFixed(2) +\n              \"<br>Y: \" +\n              params.data[1].toFixed(2)\n            );\n          }\n        },\n        grid: {},\n        xAxis: {\n          min: 0,\n          max: 1,\n          type: \"value\",\n          axisLine: { onZero: false }\n        },\n        yAxis: {\n          min: -10,\n          max: 10,\n          type: \"value\",\n          axisLine: { onZero: false }\n        },\n        dataZoom: [\n          {\n            type: \"slider\",\n            xAxisIndex: 0,\n            filterMode: \"empty\"\n          },\n          {\n            type: \"slider\",\n            yAxisIndex: 0,\n            filterMode: \"empty\"\n          },\n          {\n            type: \"inside\",\n            xAxisIndex: 0,\n            filterMode: \"empty\"\n          },\n          {\n            type: \"inside\",\n            yAxisIndex: 0,\n            filterMode: \"empty\"\n          }\n        ],\n        series: [\n          {\n            type: \"line\",\n            smooth: true,\n            symbolSize: symbolSize,\n            data: []\n          }\n        ]\n      }\n    };\n  },\n\n  created() {\n    this.getOpenDevice();\n    this.intervalId = setInterval(() => {\n      this.getOpenDevice();\n      // console.log(this.selectCommand);\n      // this.deviceSetHandler();\n    }, 1000);\n  },\n  beforeDestroy() {\n    clearInterval(this.intervalId);\n  },\n  watch: {\n    // 同一组件原来的组件实例会被复用，所以生命周期钩子不会再被调用\n    // 因此需要侦听路由变化，来加载数据\n    $route(to, from) {\n      if (to.name === \"openDevice\") this.getOpenDevice();\n    },\n    data: function(val, oldVal) {\n      this.deviceSetHandler();\n      this.responseHandler();\n    }\n  },\n  methods: {\n    handleCommand(key) {\n      this.$store.state.user.serial = key;\n      console.log(this.commands[key]);\n      console.log(this.selectCommand);\n      this.$store.state.user.command = {\n        command: this.commands[key][this.selectCommand].label,\n        params: this.inputParams.split(\" \")\n      };\n      this.$store\n        .dispatch(\"user/sendCommand\")\n        .then(() => {\n          Message({\n            message: \"成功发送指令\",\n            type: \"success\",\n            duration: 2 * 1000\n          });\n        })\n        .catch(() => {\n          Message({\n            message: \"无法发送指令，用户身份可能已过期，请尝试重新登录\",\n            type: \"error\",\n            duration: 2 * 1000\n          });\n        });\n    },\n\n    chart_option(key) {\n      if (!(key in this.chart_option_list)) {\n        this.chart_option_list[key] = this.chart_option_template;\n      }\n      if (this.response[key]) {\n        this.chart_option_list[key].series[0].data = this.response[\n          key\n        ].vol_data;\n        this.chart_option_list[key].xAxis.max = this.response[key].time_end;\n        this.chart_option_list[key].yAxis.max = this.response[key].vol_max;\n        this.chart_option_list[key].yAxis.min = this.response[key].vol_min;\n      }\n      console.log(this.chart_option_list[key]);\n      return this.chart_option_list[key];\n    },\n    scienceToFloat(str) {\n      var str_split = str.split(\"e\");\n      if (str_split.length > 1) {\n        var base = parseFloat(str_split[0]);\n        var exp = parseFloat(str_split[1]);\n        if (exp == 0) {\n          var res_num = parseFloat(str_split[0]);\n        } else {\n          var res_num = Math.pow(\n            parseFloat(str_split[0]),\n            parseFloat(str_split[1])\n          );\n        }\n      } else {\n        var res_num = parseFloat(str);\n      }\n      return res_num;\n    },\n    responseHandler() {\n      for (var device_key in this.data) {\n        if (this.data[device_key].latest_response) {\n          // console.log(this.data[device_key].latest_response.command);\n          if (\n            !this.response[device_key] ||\n            this.response[device_key].id !=\n              this.data[device_key].latest_response_id\n          ) {\n            // console.log(this.data[device_key].latest_response_command);\n            if (\n              this.data[device_key].latest_response_command.command ==\n              \"采集波形\"\n            ) {\n              // console.log(\n              //   this.data[device_key].latest_response.vol_data.slice(2, -1)\n              // );\n              var sample_time = this.scienceToFloat(\n                this.data[device_key].latest_response.sample_time\n              );\n              var vol_max = this.scienceToFloat(\n                this.data[device_key].latest_response.vol_max\n              );\n              var vol_min = this.scienceToFloat(\n                this.data[device_key].latest_response.vol_min\n              );\n              // console.log(vol_max_str);\n              // console.log(vol_min_str);\n              // console.log(parseInt(sample_time_str[0]));\n              // console.log(parseInt(sample_time_str[1]));\n              // var sample_time = Math.pow(\n              //   parseFloat(sample_time_str[0]),\n              //   parseFloat(sample_time_str[1])\n              // );\n              // var vol_max = Math.pow(\n              //   parseFloat(vol_max_str[0]),\n              //   parseFloat(vol_max_str[1])\n              // );\n              // var vol_min = Math.pow(parseFloat(vol_min_str[0]), 1);\n              // console.log(sample_time);\n              // console.log(parseFloat(vol_min_str[0]));\n              // console.log(parseFloat(vol_min_str[1]));\n              // console.log(vol_max);\n              // console.log(vol_min);\n\n              // console.log(sample_time);\n              var vol_data_str = Base64.decode(\n                this.data[device_key].latest_response.vol_data.slice(2, -1)\n              );\n              // console.log(vol_data_str.length);\n              var vol_data = [];\n              var ad_max = -Infinity,\n                ad_min = Infinity;\n              for (var index = 0; index < vol_data_str.length; index++) {\n                if (vol_data_str.charCodeAt(index) > ad_max) {\n                  ad_max = vol_data_str.charCodeAt(index);\n                } else if (vol_data_str.charCodeAt(index) < ad_min) {\n                  ad_min = vol_data_str.charCodeAt(index);\n                }\n                vol_data.push([\n                  index * sample_time,\n                  vol_data_str.charCodeAt(index)\n                ]);\n              }\n\n              var coefficient = accDiv(\n                accSub(vol_max, vol_min),\n                accSub(ad_max, ad_min)\n              );\n              // console.log(vol_max);\n              // console.log(vol_min);\n              // console.log(accSub(vol_max, vol_min));\n              // console.log(accSub(ad_max, ad_min));\n              // console.log(coefficient);\n\n              vol_data = vol_data.map(function(row) {\n                // return [row[0], (row[1] - ad_min) * coefficient + vol_min];\n                return [\n                  row[0],\n                  accAdd(accMul(accSub(row[1], ad_min), coefficient), vol_min)\n                ];\n              });\n              // console.log(vol_data[0]);\n              // console.log(max_ad);\n              // console.log(min_ad);\n              // console.log(this.data[device_key].latest_response.vol_max);\n              // console.log(this.data[device_key].latest_response.vol_min);\n\n              this.response[device_key] = {\n                id: this.data[device_key].latest_response_id,\n                command: \"采集波形\",\n                vol_data: vol_data,\n                vol_max: vol_max,\n                vol_min: vol_min,\n                time_end: vol_data_str.length * sample_time\n              };\n\n              console.log(this.response[device_key]);\n            } else if (\n              this.data[device_key].latest_response_command.command == \"重建\"\n            ) {\n              this.imageBase64 = [];\n              this.imageBase64[0] = this.data[\n                device_key\n              ].latest_response.frameL;\n              this.imageBase64[1] = this.data[\n                device_key\n              ].latest_response.frameR;\n              this.imageBase64[2] = this.data[\n                device_key\n              ].latest_response.reconstruction;\n              // console.log(this.imageBase64);\n            } else if (\n              this.data[device_key].latest_response_command.command == \"拍照\"\n            ) {\n              this.imageBase64 = [];\n              this.imageBase64[0] = this.data[\n                device_key\n              ].latest_response.frameL;\n              this.imageBase64[1] = this.data[\n                device_key\n              ].latest_response.frameR;\n              // console.log(this.imageBase64);\n            }\n          }\n        }\n      }\n    },\n    deviceSetHandler() {\n      // console.log(this.data.device_set);\n      // this.treeData = {};\n      // this.commands = {};\n      for (var device_key in this.data) {\n        // console.log(this.data[device_key].latest_response);\n        if (this.serial_list.indexOf(device_key) == -1) {\n          var device_set = [];\n          var commands = [];\n          var command_count = 1;\n          // console.log(this.data[device_key].device_set);\n\n          for (var command_key in this.data[device_key].device_set) {\n            // console.log(command_key);\n            var command = {\n              label: \"指令\" + String(command_count) + \"： \" + command_key,\n              children: []\n            };\n\n            var params_count = 1;\n            var commands_params = \"参数：\";\n            // console.log(this.data[device_key].device_set[command_key]);\n            for (var params_key in this.data[device_key].device_set[\n              command_key\n            ]) {\n              var params = {\n                label:\n                  \"参数\" +\n                  String(params_count) +\n                  \"： \" +\n                  params_key +\n                  \"   取值类型及范围：\" +\n                  this.data[device_key].device_set[command_key][params_key]\n              };\n              command.children.push(params);\n              commands_params += params_key + \" \";\n              params_count += 1;\n            }\n            commands.push({\n              label: command_key,\n              value: command_count - 1,\n              params: commands_params\n            });\n            device_set.push(command);\n            command_count += 1;\n          }\n          // console.log(device_set);\n          this.treeData[device_key] = device_set;\n          this.commands[device_key] = commands;\n          this.serial_list.push(device_key);\n        }\n      }\n      return Promise.resolve();\n    },\n    getOpenDevice() {\n      this.$store\n        .dispatch(\"user/queryDevices\")\n        .then(data => {\n          // Message({\n          //   message: \"成功获取设备信息\",\n          //   type: \"success\",\n          //   duration: 2 * 1000\n          // });\n          this.error_count=0;\n          console.log(data);\n          this.data = data;\n        })\n        .catch(() => {\n          this.error_count+=1;\n          console.log(this.error_count)\n          if(this.error_count>3)\n          {\n            Message({\n            message: \"无法获取设备信息，用户身份可能已过期，请尝试重新登录\",\n            type: \"error\",\n            duration: 2 * 1000\n          });\n            this.error_count=0;\n          }\n          \n          \n        });\n    },\n    handleChange(val) {\n      console.log(val);\n    }\n  }\n};\n</script>\n<style scoped>\n/* .el-select .el-input {\n  width: 130px;\n}\n.input-with-select .el-input-group__prepend {\n  background-color: #fff;\n} */\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Open.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Open.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Open.vue?vue&type=template&id=6a42a706&scoped=true&\"\nimport script from \"./Open.vue?vue&type=script&lang=js&\"\nexport * from \"./Open.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Open.vue?vue&type=style&index=0&id=6a42a706&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a42a706\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <Open></Open>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport Open from \"@/components/watch/Open\";\nexport default {\n  name: \"open\",\n  components: {\n    Open\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Open.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Open.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Open.vue?vue&type=template&id=3d238140&\"\nimport script from \"./Open.vue?vue&type=script&lang=js&\"\nexport * from \"./Open.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Watch')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <router-view></router-view>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"watch\"\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Watch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Watch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Watch.vue?vue&type=template&id=530dfaeb&\"\nimport script from \"./Watch.vue?vue&type=script&lang=js&\"\nexport * from \"./Watch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <Watch/>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport Watch from \"@/components/Watch\";\nexport default {\n  name: \"watch\",\n  components: {\n    Watch\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Watch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Watch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Watch.vue?vue&type=template&id=24e94bec&\"\nimport script from \"./Watch.vue?vue&type=script&lang=js&\"\nexport * from \"./Watch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export function accAdd(num1, num2) {\r\n    num1 = Number(num1);\r\n    num2 = Number(num2);\r\n    var dec1, dec2, times;\r\n    try {\r\n        dec1 = countDecimals(num1) + 1;\r\n    } catch (e) {\r\n        dec1 = 0;\r\n    }\r\n    try {\r\n        dec2 = countDecimals(num2) + 1;\r\n    } catch (e) {\r\n        dec2 = 0;\r\n    }\r\n    times = Math.pow(10, Math.max(dec1, dec2));\r\n    // var result = (num1 * times + num2 * times) / times;\r\n    var result = (accMul(num1, times) + accMul(num2, times)) / times;\r\n    return getCorrectResult(\"add\", num1, num2, result);\r\n    // return result;\r\n};\r\n\r\nexport function accSub(num1, num2) {\r\n    num1 = Number(num1);\r\n    num2 = Number(num2);\r\n    var dec1, dec2, times;\r\n    try {\r\n        dec1 = countDecimals(num1) + 1;\r\n    } catch (e) {\r\n        dec1 = 0;\r\n    }\r\n    try {\r\n        dec2 = countDecimals(num2) + 1;\r\n    } catch (e) {\r\n        dec2 = 0;\r\n    }\r\n    times = Math.pow(10, Math.max(dec1, dec2));\r\n    // var result = Number(((num1 * times - num2 * times) / times);\r\n    var result = Number((accMul(num1, times) - accMul(num2, times)) / times);\r\n    return getCorrectResult(\"sub\", num1, num2, result);\r\n    // return result;\r\n};\r\n\r\nexport function accDiv(num1, num2) {\r\n    num1 = Number(num1);\r\n    num2 = Number(num2);\r\n    var t1 = 0,\r\n        t2 = 0,\r\n        dec1, dec2;\r\n    try {\r\n        t1 = countDecimals(num1);\r\n    } catch (e) {}\r\n    try {\r\n        t2 = countDecimals(num2);\r\n    } catch (e) {}\r\n    dec1 = convertToInt(num1);\r\n    dec2 = convertToInt(num2);\r\n    var result = accMul((dec1 / dec2), Math.pow(10, t2 - t1));\r\n    return getCorrectResult(\"div\", num1, num2, result);\r\n    // return result;\r\n};\r\n\r\nexport function accMul(num1, num2) {\r\n    num1 = Number(num1);\r\n    num2 = Number(num2);\r\n    var times = 0,\r\n        s1 = num1.toString(),\r\n        s2 = num2.toString();\r\n    try {\r\n        times += countDecimals(s1);\r\n    } catch (e) {}\r\n    try {\r\n        times += countDecimals(s2);\r\n    } catch (e) {}\r\n    var result = convertToInt(s1) * convertToInt(s2) / Math.pow(10, times);\r\n    return getCorrectResult(\"mul\", num1, num2, result);\r\n    // return result;\r\n};\r\n\r\nvar countDecimals = function (num) {\r\n    var len = 0;\r\n    try {\r\n        num = Number(num);\r\n        var str = num.toString().toUpperCase();\r\n        if (str.split('E').length === 2) { // scientific notation\r\n            var isDecimal = false;\r\n            if (str.split('.').length === 2) {\r\n                str = str.split('.')[1];\r\n                if (parseInt(str.split('E')[0]) !== 0) {\r\n                    isDecimal = true;\r\n                }\r\n            }\r\n            let x = str.split('E');\r\n            if (isDecimal) {\r\n                len = x[0].length;\r\n            }\r\n            len -= parseInt(x[1]);\r\n        } else if (str.split('.').length === 2) { // decimal\r\n            if (parseInt(str.split('.')[1]) !== 0) {\r\n                len = str.split('.')[1].length;\r\n            }\r\n        }\r\n    } catch (e) {\r\n        throw e;\r\n    } finally {\r\n        if (isNaN(len) || len < 0) {\r\n            len = 0;\r\n        }\r\n        return len;\r\n    }\r\n};\r\n\r\nvar convertToInt = function (num) {\r\n    num = Number(num);\r\n    var newNum = num;\r\n    var times = countDecimals(num);\r\n    var temp_num = num.toString().toUpperCase();\r\n    if (temp_num.split('E').length === 2) {\r\n        newNum = Math.round(num * Math.pow(10, times));\r\n    } else {\r\n        newNum = Number(temp_num.replace(\".\", \"\"));\r\n    }\r\n    return newNum;\r\n};\r\n\r\nvar getCorrectResult = function (type, num1, num2, result) {\r\n    var temp_result = 0;\r\n    switch (type) {\r\n        case \"add\":\r\n            temp_result = num1 + num2;\r\n            break;\r\n        case \"sub\":\r\n            temp_result = num1 - num2;\r\n            break;\r\n        case \"div\":\r\n            temp_result = num1 / num2;\r\n            break;\r\n        case \"mul\":\r\n            temp_result = num1 * num2;\r\n            break;\r\n    }\r\n    if (Math.abs(result - temp_result) > 1) {\r\n        return temp_result;\r\n    }\r\n    return result;\r\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('History')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"设备历史\")]),_c('el-row',[_vm._v(\"\\n    请选择设备：\\n    \"),_c('el-select',{attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"CPU序列号\"},on:{\"change\":_vm.selectDeviceChange},model:{value:(_vm.selectDevice),callback:function ($$v) {_vm.selectDevice=$$v},expression:\"selectDevice\"}},_vm._l((_vm.data),function(item,key,index){return _c('el-option',{key:index,attrs:{\"label\":key,\"value\":key}})}),1)],1),_c('br'),(_vm.selectDevice!=''&&_vm.data[_vm.selectDevice].read_permission===true)?_c('div',[_c('el-row',[_vm._v(\"\\n      请选择要查询的历史信息：\\n      \"),_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"历史记录\"},model:{value:(_vm.selectHistory),callback:function ($$v) {_vm.selectHistory=$$v},expression:\"selectHistory\"}},_vm._l((_vm.data[_vm.selectDevice].history),function(item,key,index){return _c('el-option',{key:index,attrs:{\"label\":_vm._f(\"historyFormatter\")(item),\"value\":item.id}})}),1)],1),_c('br'),_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.QueryHistoryDetail(_vm.selectHistory)}}},[_vm._v(\"\\n        查询历史详情\\n        \"),_c('i',{staticClass:\"el-icon-upload el-icon--right\"})])],1)],1):(_vm.selectDevice!=''&&_vm.data[_vm.selectDevice].read_permission===false)?_c('el-row',[_c('h3',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"您没有权限查看此设备历史\")])]):_vm._e(),_c('br'),(_vm.data[_vm.selectDevice]&&_vm.data[_vm.selectDevice].device_type.indexOf('image')>-1)?_c('div',[(_vm.history_response!=''&&_vm.history_response.command.command=='重建')?_c('el-row',[_c('img',{attrs:{\"src\":'data:image/jpeg;base64,'+_vm.history_response.response.frameL}}),_c('img',{attrs:{\"src\":'data:image/jpeg;base64,'+_vm.history_response.response.frameR}}),_c('img',{attrs:{\"src\":'data:image/jpeg;base64,'+_vm.history_response.response.reconstruction}})]):(_vm.history_response!=''&&_vm.history_response.command.command=='拍照')?_c('el-row',[_c('img',{attrs:{\"src\":'data:image/jpeg;base64,'+_vm.history_response.response.frameL}}),_c('img',{attrs:{\"src\":'data:image/jpeg;base64,'+_vm.history_response.response.frameR}})]):_vm._e()],1):_vm._e(),(_vm.data[_vm.selectDevice]&&_vm.data[_vm.selectDevice].device_type.indexOf('wave')>-1)?_c('div',[(_vm.history_response!=''&&_vm.history_response.command.command=='采集波形')?_c('el-row',[(_vm.history_response.response.vol_data)?_c('v-chart',{ref:\"line\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"min-width\":\"300px\",\"min-height\":\"600px\"},attrs:{\"options\":_vm.chart,\"autoresize\":\"\"}}):_vm._e()],1):_vm._e()],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h1>设备历史</h1>\n    <el-row>\n      请选择设备：\n      <el-select\n        v-model=\"selectDevice\"\n        filterable\n        clearable\n        placeholder=\"CPU序列号\"\n        @change=\"selectDeviceChange\"\n      >\n        <el-option v-for=\"(item,key,index) in data\" :key=\"index\" :label=\"key\" :value=\"key\"></el-option>\n      </el-select>\n    </el-row>\n    <br>\n    <div v-if=\"selectDevice!=''&&data[selectDevice].read_permission===true\">\n      <el-row>\n        请选择要查询的历史信息：\n        <el-select\n          v-model=\"selectHistory\"\n          filterable\n          clearable\n          placeholder=\"历史记录\"\n          style=\"width:100%;\"\n        >\n          <el-option\n            v-for=\"(item,key,index) in data[selectDevice].history\"\n            :key=\"index\"\n            :label=\"item|historyFormatter\"\n            :value=\"item.id\"\n          ></el-option>\n        </el-select>\n      </el-row>\n      <br>\n      <el-row>\n        <el-button type=\"primary\" @click=\"QueryHistoryDetail(selectHistory)\">\n          查询历史详情\n          <i class=\"el-icon-upload el-icon--right\"></i>\n        </el-button>\n      </el-row>\n    </div>\n    <el-row v-else-if=\"selectDevice!=''&&data[selectDevice].read_permission===false\">\n      <h3 style=\"color:red\">您没有权限查看此设备历史</h3>\n    </el-row>\n    <br>\n    <!-- {{data[selectDevice]}} -->\n    <div v-if=\"data[selectDevice]&&data[selectDevice].device_type.indexOf('image')>-1\">\n      <el-row v-if=\"history_response!=''&&history_response.command.command=='重建'\">\n        <img v-bind:src=\"'data:image/jpeg;base64,'+history_response.response.frameL\">\n        <img v-bind:src=\"'data:image/jpeg;base64,'+history_response.response.frameR\">\n        <img v-bind:src=\"'data:image/jpeg;base64,'+history_response.response.reconstruction\">\n      </el-row>\n      <el-row v-else-if=\"history_response!=''&&history_response.command.command=='拍照'\">\n        <img v-bind:src=\"'data:image/jpeg;base64,'+history_response.response.frameL\">\n        <img v-bind:src=\"'data:image/jpeg;base64,'+history_response.response.frameR\">\n      </el-row>\n    </div>\n    <div v-if=\"data[selectDevice]&&data[selectDevice].device_type.indexOf('wave')>-1\">\n      <el-row v-if=\"history_response!=''&&history_response.command.command=='采集波形'\">\n        <v-chart\n          v-if=\"history_response.response.vol_data\"\n          :options=\"chart\"\n          autoresize\n          ref=\"line\"\n          style=\"width:100%;height: 100%;min-width: 300px;min-height: 600px;\"\n        />\n      </el-row>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Message } from \"element-ui\";\nimport { accAdd, accSub, accDiv, accMul } from \"@/utils/floatOperate\";\nlet Base64 = require(\"js-base64\").Base64;\nvar symbolSize = 1;\nexport default {\n  name: \"history\",\n  data() {\n    return {\n      data: [],\n      selectDevice: \"\",\n      selectHistory: \"\",\n      history_response: \"\",\n      chart_option_template: {\n        title: {\n          text: \"Try Dragging these Points\"\n        },\n        tooltip: {\n          formatter: function(params) {\n            return (\n              \"X: \" +\n              params.data[0].toFixed(2) +\n              \"<br>Y: \" +\n              params.data[1].toFixed(2)\n            );\n          }\n        },\n        grid: {},\n        xAxis: {\n          min: 0,\n          max: 1,\n          type: \"value\",\n          axisLine: { onZero: false }\n        },\n        yAxis: {\n          min: -10,\n          max: 10,\n          type: \"value\",\n          axisLine: { onZero: false }\n        },\n        dataZoom: [\n          {\n            type: \"slider\",\n            xAxisIndex: 0,\n            filterMode: \"empty\"\n          },\n          {\n            type: \"slider\",\n            yAxisIndex: 0,\n            filterMode: \"empty\"\n          },\n          {\n            type: \"inside\",\n            xAxisIndex: 0,\n            filterMode: \"empty\"\n          },\n          {\n            type: \"inside\",\n            yAxisIndex: 0,\n            filterMode: \"empty\"\n          }\n        ],\n        series: [\n          {\n            type: \"line\",\n            smooth: true,\n            symbolSize: symbolSize,\n            data: []\n          }\n        ]\n      }\n    };\n  },\n  computed: {\n    chart: function() {\n      // console.log(this.history_response.response);\n      var sample_time = this.scienceToFloat(\n        this.history_response.response.sample_time\n      );\n      var vol_max = this.scienceToFloat(this.history_response.response.vol_max);\n      var vol_min = this.scienceToFloat(this.history_response.response.vol_min);\n      var vol_data_str = Base64.decode(\n        this.history_response.response.vol_data.slice(2, -1)\n      );\n      var vol_data = [];\n      var ad_max = -Infinity,\n        ad_min = Infinity;\n      for (var index = 0; index < vol_data_str.length; index++) {\n        if (vol_data_str.charCodeAt(index) > ad_max) {\n          ad_max = vol_data_str.charCodeAt(index);\n        } else if (vol_data_str.charCodeAt(index) < ad_min) {\n          ad_min = vol_data_str.charCodeAt(index);\n        }\n        vol_data.push([index * sample_time, vol_data_str.charCodeAt(index)]);\n      }\n      var coefficient = accDiv(\n        accSub(vol_max, vol_min),\n        accSub(ad_max, ad_min)\n      );\n      vol_data = vol_data.map(function(row) {\n        // return [row[0], (row[1] - ad_min) * coefficient + vol_min];\n        return [\n          row[0],\n          accAdd(accMul(accSub(row[1], ad_min), coefficient), vol_min)\n        ];\n      });\n      this.chart_option_template.series[0].data = vol_data;\n      this.chart_option_template.xAxis.max = vol_data_str.length * sample_time;\n      this.chart_option_template.yAxis.min = vol_min;\n\n      // this.response[device_key] = {\n      //           id: this.data[device_key].latest_response_id,\n      //           command: \"采集波形\",\n      //           vol_data: vol_data,\n      //           vol_max: vol_max,\n      //           vol_min: vol_min,\n      //           time_end: vol_data_str.length * sample_time\n      //         };\n      return this.chart_option_template;\n    }\n  },\n  filters: {\n    historyFormatter(item) {\n      if (item.command.params != \"\") {\n        var params = item.command.params;\n      } else {\n        var params = \"无\";\n      }\n      var time = new Date(item.timestamp);\n      var year = time.getFullYear();\n      var month = time.getMonth() + 1;\n      var date = time.getDate();\n      var hour = time.getHours();\n      var min = time.getMinutes();\n      var second = time.getSeconds();\n      return (\n        \"时间：\" +\n        year +\n        \"年\" +\n        month +\n        \"月\" +\n        date +\n        \"日\" +\n        hour +\n        \"时\" +\n        min +\n        \"分\" +\n        second +\n        \"秒,指令：\" +\n        item.command.command +\n        \",参数：\" +\n        params\n      );\n    }\n  },\n  created() {\n    this.getDeviceHistory();\n  },\n  methods: {\n    scienceToFloat(str) {\n      var str_split = str.split(\"e\");\n      if (str_split.length > 1) {\n        var base = parseFloat(str_split[0]);\n        var exp = parseFloat(str_split[1]);\n        if (exp == 0) {\n          var res_num = parseFloat(str_split[0]);\n        } else {\n          var res_num = Math.pow(\n            parseFloat(str_split[0]),\n            parseFloat(str_split[1])\n          );\n        }\n      } else {\n        var res_num = parseFloat(str);\n      }\n      return res_num;\n    },\n    getDeviceHistory() {\n      this.$store\n        .dispatch(\"user/deviceHistory\")\n        .then(data => {\n          console.log(data);\n          this.data = data;\n        })\n        .catch(() => {\n          Message({\n            message: \"无法获取设备历史，用户身份可能已过期，请尝试重新登录\",\n            type: \"error\",\n            duration: 2 * 1000\n          });\n        });\n    },\n    QueryHistoryDetail(id) {\n      this.$store.state.user.device_history_id = id;\n      this.$store\n        .dispatch(\"user/deviceHistoryDetail\")\n        .then(data => {\n          console.log(data);\n          this.history_response = data;\n        })\n        .catch(() => {\n          Message({\n            message: \"无法获取设备历史详情，用户身份可能已过期，请尝试重新登录\",\n            type: \"error\",\n            duration: 2 * 1000\n          });\n        });\n    },\n    selectDeviceChange() {\n      this.selectHistory = \"\";\n    }\n  },\n  watch: {\n    // 同一组件原来的组件实例会被复用，所以生命周期钩子不会再被调用\n    // 因此需要侦听路由变化，来加载数据\n    $route(to, from) {\n      if (to.name === \"deviceHistory\") this.getDeviceHistory();\n    }\n  }\n};\n</script>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./History.vue?vue&type=template&id=ee4f43ec&\"\nimport script from \"./History.vue?vue&type=script&lang=js&\"\nexport * from \"./History.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <History/>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport History from \"@/components/watch/History\";\nexport default {\n  name: \"history\",\n  components: {\n    History\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./History.vue?vue&type=template&id=6b754740&\"\nimport script from \"./History.vue?vue&type=script&lang=js&\"\nexport * from \"./History.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}